<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results</title>
    <link rel="stylesheet" href="search.css">
</head>
<body>
    <div class="container">
        <h1>Search Results</h1>
        <div id="searchResult"></div> <!-- Display search result here -->
    </div>

    <button class="back-btn" onclick="goBack()">Back</button>

    <script src="search.js"></script>
    <script>
        // Function to parse query parameters from URL
        function getQueryParams() {
            var queryParams = {};
            var queryString = window.location.search.substring(1);
            var pairs = queryString.split("&");
            for (var i = 0; i < pairs.length; i++) {
                var pair = pairs[i].split("=");
                queryParams[pair[0]] = decodeURIComponent(pair[1]);
            }
            return queryParams;
        }

        // Retrieve registration number from query parameters
        var queryParams = getQueryParams();
        var registrationNumber = queryParams.regNumber;
        
        // Search for student details using registration number
        var student = searchStudentByRegistrationNumber(registrationNumber);
        var searchResultElement = document.getElementById('searchResult');
        if (student) {
            searchResultElement.innerHTML = `
                <p><strong>Registration Number:</strong> ${student.registrationNumber}</p>\
                <p><strong>Name:</strong> ${student.name}</p>
                <p><strong>Year:</strong> ${student.year}</p>
                <p><strong>Marks:</strong></p>
                <ul>
                    <li>Year I: ${student.marks.yearI}</li>
                    <li>Year II: ${student.marks.yearII}</li>
                    <li>Year III: ${student.marks.yearIII}</li>
                    <li>Year IV: ${student.marks.yearIV}</li>
                </ul>
                <p><strong>Mobile Number:</strong> ${student.mobileNumber}</p>
            `;
        } else {
            searchResultElement.innerHTML = "Student not found.";
        }

        // Function to go back to the dashboard page
        function goBack() {
            window.history.back();
        }
    </script>
</body>
</html>
